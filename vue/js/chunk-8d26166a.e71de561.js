(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8d26166a"],{1003:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-form",{ref:"people",staticClass:"demo-ruleForm",attrs:{model:e.people,rules:e.rules,"label-width":"50px"}},[o("el-form-item",{attrs:{label:"账号",prop:"account"}},[o("el-input",{model:{value:e.people.account,callback:function(t){e.$set(e.people,"account",t)},expression:"people.account"}})],1),o("el-form-item",{attrs:{label:"密码",prop:"password"}},[o("el-input",{model:{value:e.people.password,callback:function(t){e.$set(e.people,"password",t)},expression:"people.password"}})],1),o("el-form-item",{attrs:{label:"类型",prop:"type"}},[o("el-select",{model:{value:e.people.role_id,callback:function(t){e.$set(e.people,"role_id",t)},expression:"people.role_id"}},e._l(e.options,(function(e){return o("el-option",{key:e.role_id,attrs:{value:e.role_id,label:e.label}})})),1)],1),o("el-form-item",[o("el-button",{staticClass:"submit",attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("people")}}},[e._v("立即登录")])],1)],1)},n=[],l=o("ef1b"),a={name:"LoginView",data:function(){return{options:[{role_id:1,label:"学生"},{role_id:2,label:"老师"},{role_id:3,label:"管理员"}],people:{account:"",password:"",role_id:1},rules:{account:[{required:!0,message:"请输入账号",trigger:"blur"},{min:0,max:10,message:"长度在 0 到 10 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"change"}]}}},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;Object(l["a"])(t.people).then((function(e){console.log(e),e.success?(localStorage.setItem("Authorization","Bearer "+e.data),1==t.people.role_id?t.$router.push({path:"/index/dynamic"}):2==t.people.role_id&&t.$router.push({path:"/teacher/index"})):t.$message.error("登录失败："+e.message)}))}))}}},i=a,c=(o("16e1"),o("2877")),s=Object(c["a"])(i,r,n,!1,null,"5d92ada2",null);t["default"]=s.exports},"16e1":function(e,t,o){"use strict";var r=o("9bf7"),n=o.n(r);n.a},"9bf7":function(e,t,o){},b0c0:function(e,t,o){var r=o("83ab"),n=o("9bf2").f,l=Function.prototype,a=l.toString,i=/^\s*function ([^ (]*)/,c="name";!r||c in l||n(l,c,{configurable:!0,get:function(){try{return a.call(this).match(i)[1]}catch(e){return""}}})},ef1b:function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"d",(function(){return l})),o.d(t,"b",(function(){return a})),o.d(t,"c",(function(){return i}));o("b0c0");var r=o("f350");function n(e){return Object(r["a"])({url:"/login",method:"post",data:{account:e.account,password:e.password,role_id:e.role_id}})}function l(e){return Object(r["a"])({url:"/register",method:"post",data:{name:e.name,account:e.account,password:e.password,role_id:e.role_id,grade_id:e.grade,school_id:e.school}})}function a(){return Object(r["a"])({url:"/qryAllGrade"})}function i(){return Object(r["a"])({url:"/qryAllSchool"})}}}]);
//# sourceMappingURL=chunk-8d26166a.e71de561.js.map